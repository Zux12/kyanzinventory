<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KYANZ ‚Äî Cashier Summary</title>

  <style>
    :root{
      --bg:#0b0f14;
      --card:#121822;
      --text:#e9eef6;
      --muted:#9fb0c7;
      --border:rgba(255,255,255,.10);
      --accent:#25D366;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
      --radius:16px;
      --paper:#ffffff;
      --ink:#0f172a;
      --ink2:#334155;
      --line:#e5e7eb;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      background: radial-gradient(900px 500px at 30% -10%, rgba(37,211,102,.12), transparent 55%), var(--bg);
      color: var(--text);
    }

    .wrap{max-width:1100px;margin:0 auto;padding:22px 16px 60px;}
    .top{display:flex;align-items:center;justify-content:space-between;gap:14px;margin-bottom:14px;}
    .brand{display:flex;align-items:center;gap:12px;}
    .logo{
      width:44px;height:44px;border-radius:12px;
      border:1px solid var(--border);
      background: linear-gradient(135deg, rgba(255,255,255,.14), rgba(255,255,255,.05));
      display:grid;place-items:center;box-shadow:var(--shadow);
      font-weight:900;letter-spacing:.12em;font-size:12px;
    }
    h1{margin:0;font-size:18px;}
    .sub{margin:4px 0 0;color:var(--muted);font-size:13px}

    .grid{display:grid;grid-template-columns: 1fr 1.1fr;gap:14px;}
    @media (max-width: 980px){.grid{grid-template-columns:1fr}}

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.03));
      border:1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card-h{padding:14px 14px 10px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;gap:10px;}
    .card-h h2{margin:0;font-size:15px}
    .pill{
      font-size:12px;font-weight:900;
      padding:6px 10px;border-radius:999px;
      background: rgba(37,211,102,.95);
      color:#0b1f12;
    }
    .card-b{padding:14px}

    label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
    input, select, textarea{
      width:100%;
      padding:11px 12px;
      border-radius: 12px;
      border:1px solid var(--border);
      background: rgba(0,0,0,.22);
      color: var(--text);
      outline:none;
    }
    textarea{min-height:88px;resize:vertical}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px;}
    @media (max-width: 600px){.row{grid-template-columns:1fr}}

    .items{
      width:100%;
      border-collapse: collapse;
      overflow:hidden;
      border-radius: 12px;
      border:1px solid var(--border);
    }
    .items th,.items td{
      padding:10px 10px;
      border-bottom:1px solid rgba(255,255,255,.08);
      text-align:left;
      font-size:13px;
      vertical-align:top;
    }
    .items th{color:rgba(233,238,246,.9);font-size:12px;text-transform:uppercase;letter-spacing:.08em}
    .items td input{
      padding:8px 10px;border-radius:10px;
      background: rgba(0,0,0,.18);
    }

    .summary{
      display:flex;flex-direction:column;gap:10px;
    }
    .line{
      display:flex;align-items:center;justify-content:space-between;gap:10px;
      padding:10px 12px;border:1px solid var(--border);border-radius:12px;
      background: rgba(0,0,0,.18);
    }
    .line span{color:var(--muted);font-size:13px}
    .line strong{font-size:14px}
    .total{
      border:1px solid rgba(37,211,102,.35);
      background: linear-gradient(180deg, rgba(37,211,102,.18), rgba(37,211,102,.08));
      border-radius: 14px;
      padding:12px;
    }
    .total .amt{font-size:22px;font-weight:900}
    .btns{display:flex;flex-wrap:wrap;gap:10px;margin-top:12px}
    .btn{
      border:0;border-radius:999px;
      padding:11px 14px;
      font-weight:900;
      cursor:pointer;
      display:inline-flex;align-items:center;gap:8px;
      transition: transform .12s ease, filter .12s ease, box-shadow .12s ease, background .12s ease;
      -webkit-tap-highlight-color: transparent;
      user-select:none;
      white-space:nowrap;
    }
    .btn:active{transform: scale(.98)}
    .btn-primary{background: var(--accent); color:#0b1f12; box-shadow:0 12px 28px rgba(37,211,102,.25)}
    .btn-primary:hover{filter:brightness(.98); box-shadow:0 18px 36px rgba(37,211,102,.34)}
    .btn-ghost{background: rgba(255,255,255,.07); color: var(--text); border:1px solid var(--border)}
    .btn-ghost:hover{background: rgba(255,255,255,.10)}
    .mini{color:var(--muted);font-size:12px}

    /* PRINT VIEW (receipt-like) */
    @media print{
      body{background:#fff;color:#000}
      .wrap{padding:0}
      .top, .grid .card:first-child, .btns, .mini{display:none !important;}
      .grid{grid-template-columns:1fr}
      .card{box-shadow:none;border:0;border-radius:0}
      .card-h{border:0}
      .card-b{padding:0}
      #receipt{
        background: var(--paper) !important;
        color: var(--ink) !important;
      }
      #receipt *{color: var(--ink) !important;}
      #receipt .r-muted{color: var(--ink2) !important;}
      #receipt .r-line{border-bottom:1px solid var(--line) !important;}
    }

    /* Receipt block inside right card */
    #receipt{
      background: rgba(255,255,255,.03);
      border:1px solid var(--border);
      border-radius: 14px;
      padding:14px;
    }
    .r-title{font-weight:900;font-size:16px;margin:0 0 8px}
    .r-muted{color:var(--muted);font-size:12px;margin:0}
    .r-row{display:flex;justify-content:space-between;gap:10px;margin:6px 0}
    .r-line{border-bottom:1px dashed rgba(255,255,255,.18);margin:10px 0}
    .r-big{font-weight:900;font-size:18px}
    .r-small{font-size:12px}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="top">
      <div class="brand">
        <div class="logo">KYANZ</div>
        <div>
          <h1>Cashier Summary</h1>
          <p class="sub">Internal order summary + printable receipt.</p>
        </div>
      </div>
      <div class="mini">Auto totals ‚Ä¢ Copy ‚Ä¢ Print</div>
    </div>

    <div class="grid">
      <!-- LEFT: INPUTS -->
      <div class="card">
        <div class="card-h">
          <h2>Order Details (Cashier)</h2>
          <span class="pill">Internal</span>
        </div>
        <div class="card-b">

          <div class="row">
            <div>
              <label for="orderId">Order ID</label>
              <input id="orderId" placeholder="e.g. KYZ-000123" />
            </div>
            <div>
              <label for="dateTime">Date / Time</label>
              <input id="dateTime" />
            </div>
          </div>

          <div class="row">
            <div>
              <label for="customer">Customer Name</label>
              <input id="customer" placeholder="Customer name" />
            </div>
            <div>
              <label for="contact">Customer Contact</label>
              <input id="contact" placeholder="Phone / IG / WhatsApp" />
            </div>
          </div>

          <div class="row">
            <div>
              <label for="paymentMethod">Payment Method</label>
              <select id="paymentMethod">
                <option value="Cash">Cash</option>
                <option value="PayNow">PayNow</option>
                <option value="Bank Transfer">Bank Transfer</option>
                <option value="Card">Card</option>
                <option value="Other">Other</option>
              </select>
            </div>
            <div>
              <label for="paymentStatus">Payment Status</label>
              <select id="paymentStatus">
                <option value="Paid">Paid</option>
                <option value="Pending">Pending</option>
                <option value="Unpaid">Unpaid</option>
              </select>
            </div>
          </div>

          <div style="margin:12px 0 10px;">
            <label>Items</label>
            <table class="items">
              <thead>
                <tr>
                  <th style="width:40%;">Item</th>
                  <th style="width:20%;">Unit (SGD)</th>
                  <th style="width:16%;">Qty</th>
                  <th style="width:24%;">Line Total</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><input id="item1" value="KYANZ Perfume" /></td>
                  <td><input id="price1" type="number" step="0.01" value="49.00" /></td>
                  <td><input id="qty1" type="number" min="0" value="1" /></td>
                  <td><strong id="line1">SGD 49.00</strong></td>
                </tr>
                <tr>
                  <td><input id="item2" placeholder="Optional item" /></td>
                  <td><input id="price2" type="number" step="0.01" value="0.00" /></td>
                  <td><input id="qty2" type="number" min="0" value="0" /></td>
                  <td><strong id="line2">SGD 0.00</strong></td>
                </tr>
              </tbody>
            </table>
            <div class="mini" style="margin-top:8px;">
              Tip: Set qty to 0 if unused.
            </div>
          </div>

          <div class="row">
            <div>
              <label for="delivery">Delivery Fee (SGD)</label>
              <input id="delivery" type="number" step="0.01" value="5.00" />
            </div>
            <div>
              <label for="discount">Discount (SGD)</label>
              <input id="discount" type="number" step="0.01" value="0.00" />
            </div>
          </div>

          <div style="margin-top:10px;">
            <label for="notes">Notes (optional)</label>
            <textarea id="notes" placeholder="e.g. Self-pickup, deliver tomorrow 3pm, etc."></textarea>
          </div>

        </div>
      </div>

      <!-- RIGHT: SUMMARY + RECEIPT -->
      <div class="card">
        <div class="card-h">
          <h2>Summary (Cashier)</h2>
          <span class="pill">Auto Total</span>
        </div>
        <div class="card-b">

          <div class="summary">
            <div class="line"><span>Subtotal</span><strong id="sub">SGD 0.00</strong></div>
            <div class="line"><span>Delivery</span><strong id="del">SGD 0.00</strong></div>
            <div class="line"><span>Discount</span><strong id="disc">- SGD 0.00</strong></div>

            <div class="total">
              <div class="line" style="border:0;background:transparent;padding:0;">
                <span style="color:rgba(233,238,246,.9);font-weight:900;">TOTAL</span>
                <span class="amt" id="total">SGD 0.00</span>
              </div>
              <p class="mini" style="margin:8px 0 0;">Currency: SGD</p>
            </div>

            <div class="btns">
              <button class="btn btn-primary" id="copyBtn" type="button">üìã Copy Summary</button>
              <button class="btn btn-ghost" id="printBtn" type="button">üñ®Ô∏è Print Receipt</button>
              <button class="btn btn-ghost" id="resetBtn" type="button">‚Ü∫ Reset</button>
            </div>

            <div id="receipt" aria-label="Printable receipt preview">
              <p class="r-title">KYANZ</p>
              <p class="r-muted" id="r-meta">Order Summary</p>
              <div class="r-line"></div>

              <div class="r-row"><span class="r-small r-muted">Order ID</span><span class="r-small" id="r-orderId">-</span></div>
              <div class="r-row"><span class="r-small r-muted">Date</span><span class="r-small" id="r-date">-</span></div>
              <div class="r-row"><span class="r-small r-muted">Customer</span><span class="r-small" id="r-customer">-</span></div>
              <div class="r-row"><span class="r-small r-muted">Contact</span><span class="r-small" id="r-contact">-</span></div>
              <div class="r-line"></div>

              <div id="r-items"></div>

              <div class="r-line"></div>
              <div class="r-row"><span class="r-small r-muted">Subtotal</span><span class="r-small" id="r-sub">SGD 0.00</span></div>
              <div class="r-row"><span class="r-small r-muted">Delivery</span><span class="r-small" id="r-del">SGD 0.00</span></div>
              <div class="r-row"><span class="r-small r-muted">Discount</span><span class="r-small" id="r-disc">- SGD 0.00</span></div>

              <div class="r-line"></div>
              <div class="r-row"><span class="r-big">TOTAL</span><span class="r-big" id="r-total">SGD 0.00</span></div>

              <div class="r-line"></div>
              <div class="r-row"><span class="r-small r-muted">Payment</span><span class="r-small" id="r-pay">-</span></div>
              <div class="r-row"><span class="r-small r-muted">Status</span><span class="r-small" id="r-status">-</span></div>

              <div class="r-line"></div>
              <p class="r-small r-muted" id="r-notes">Notes: -</p>
              <p class="r-small r-muted" style="margin-top:10px;">Thank you.</p>
            </div>

          </div>

        </div>
      </div>
    </div>

    <p class="mini" style="margin-top:14px;">¬© <span id="year"></span> KYANZ</p>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);
    const fmt = (n) => `SGD ${Number(n || 0).toFixed(2)}`;

    function nowLocal(){
      const d = new Date();
      const pad = (x) => String(x).padStart(2,"0");
      return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())} ${pad(d.getHours())}:${pad(d.getMinutes())}`;
    }

    function num(id){
      const v = Number($(id).value || 0);
      return isFinite(v) ? v : 0;
    }

    function lineTotal(priceId, qtyId){
      const p = num(priceId);
      const q = Math.max(0, parseInt($(qtyId).value || "0", 10));
      $(qtyId).value = isFinite(q) ? q : 0;
      return p * q;
    }

    function buildReceiptItems(){
      const items = [];
      const i1 = $("item1").value.trim();
      const i2 = $("item2").value.trim();

      const l1 = lineTotal("price1","qty1");
      const l2 = lineTotal("price2","qty2");

      const q1 = parseInt($("qty1").value || "0", 10);
      const q2 = parseInt($("qty2").value || "0", 10);

      if (q1 > 0 && i1) items.push({name:i1, qty:q1, price:num("price1"), total:l1});
      if (q2 > 0 && i2) items.push({name:i2, qty:q2, price:num("price2"), total:l2});

      return items;
    }

    function update(){
      // Lines
      const l1 = lineTotal("price1","qty1");
      const l2 = lineTotal("price2","qty2");
      $("line1").textContent = fmt(l1);
      $("line2").textContent = fmt(l2);

      const subtotal = l1 + l2;
      const delivery = num("delivery");
      const discount = num("discount");
      const total = Math.max(0, subtotal + delivery - discount);

      $("sub").textContent = fmt(subtotal);
      $("del").textContent = fmt(delivery);
      $("disc").textContent = `- ${fmt(discount)}`;
      $("total").textContent = fmt(total);

      // Receipt meta
      $("r-orderId").textContent = $("orderId").value.trim() || "-";
      $("r-date").textContent = $("dateTime").value.trim() || "-";
      $("r-customer").textContent = $("customer").value.trim() || "-";
      $("r-contact").textContent = $("contact").value.trim() || "-";
      $("r-sub").textContent = fmt(subtotal);
      $("r-del").textContent = fmt(delivery);
      $("r-disc").textContent = `- ${fmt(discount)}`;
      $("r-total").textContent = fmt(total);
      $("r-pay").textContent = $("paymentMethod").value;
      $("r-status").textContent = $("paymentStatus").value;

      const notes = $("notes").value.trim();
      $("r-notes").textContent = `Notes: ${notes || "-"}`;

      // Receipt items render
      const items = buildReceiptItems();
      const holder = $("r-items");
      holder.innerHTML = "";
      if (!items.length){
        holder.innerHTML = `<div class="r-row"><span class="r-small r-muted">Items</span><span class="r-small">-</span></div>`;
      } else {
        items.forEach(it=>{
          const row = document.createElement("div");
          row.className = "r-row";
          row.innerHTML = `
            <span class="r-small">${it.qty}√ó ${escapeHtml(it.name)}</span>
            <span class="r-small">${fmt(it.total)}</span>
          `;
          holder.appendChild(row);

          const row2 = document.createElement("div");
          row2.className = "r-row";
          row2.innerHTML = `
            <span class="r-small r-muted">Unit</span>
            <span class="r-small r-muted">${fmt(it.price)}</span>
          `;
          holder.appendChild(row2);
        });
      }

      // Store for copy
      $("copyBtn").dataset.text = buildCopyText(subtotal, delivery, discount, total, items);
    }

    function escapeHtml(s){
      return String(s).replace(/[&<>"']/g, (m)=>({
        "&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"
      }[m]));
    }

    function buildCopyText(sub, del, disc, total, items){
      const lines = [];
      lines.push("KYANZ ‚Äî Cashier Summary");
      lines.push(`Order ID: ${$("orderId").value.trim() || "-"}`);
      lines.push(`Date/Time: ${$("dateTime").value.trim() || "-"}`);
      lines.push(`Customer: ${$("customer").value.trim() || "-"}`);
      lines.push(`Contact: ${$("contact").value.trim() || "-"}`);
      lines.push("");
      lines.push("Items:");
      if (!items.length){
        lines.push("- (none)");
      } else {
        items.forEach(it=>{
          lines.push(`- ${it.qty}x ${it.name} @ SGD ${Number(it.price).toFixed(2)} = SGD ${Number(it.total).toFixed(2)}`);
        });
      }
      lines.push("");
      lines.push(`Subtotal: SGD ${Number(sub).toFixed(2)}`);
      lines.push(`Delivery: SGD ${Number(del).toFixed(2)}`);
      lines.push(`Discount: SGD ${Number(disc).toFixed(2)}`);
      lines.push(`TOTAL: SGD ${Number(total).toFixed(2)}`);
      lines.push("");
      lines.push(`Payment Method: ${$("paymentMethod").value}`);
      lines.push(`Payment Status: ${$("paymentStatus").value}`);
      lines.push(`Notes: ${$("notes").value.trim() || "-"}`);
      return lines.join("\n");
    }

    // Copy button
    $("copyBtn").addEventListener("click", async () => {
      const text = $("copyBtn").dataset.text || "";
      try{
        await navigator.clipboard.writeText(text);
        $("copyBtn").textContent = "‚úÖ Copied!";
        setTimeout(()=> $("copyBtn").textContent = "üìã Copy Summary", 1200);
      }catch(e){
        const ta = document.createElement("textarea");
        ta.value = text;
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        document.body.removeChild(ta);
        $("copyBtn").textContent = "‚úÖ Copied!";
        setTimeout(()=> $("copyBtn").textContent = "üìã Copy Summary", 1200);
      }
    });

    // Print
    $("printBtn").addEventListener("click", () => window.print());

    // Reset
    $("resetBtn").addEventListener("click", () => {
      ["orderId","customer","contact","item1","item2","notes"].forEach(id => $(id).value = "");
      $("price1").value = "49.00";
      $("qty1").value = "1";
      $("price2").value = "0.00";
      $("qty2").value = "0";
      $("delivery").value = "5.00";
      $("discount").value = "0.00";
      $("paymentMethod").value = "Cash";
      $("paymentStatus").value = "Paid";
      $("dateTime").value = nowLocal();
      update();
    });

    // Live update
    ["orderId","dateTime","customer","contact","paymentMethod","paymentStatus",
     "item1","price1","qty1","item2","price2","qty2","delivery","discount","notes"
    ].forEach(id=>{
      $(id).addEventListener("input", update);
      $(id).addEventListener("change", update);
    });

    // Init
    $("year").textContent = new Date().getFullYear();
    $("dateTime").value = nowLocal();
    update();
  </script>
</body>
</html>
